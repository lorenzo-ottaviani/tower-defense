<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1400" height="1000" fill="white"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Tower Defense - Diagramme de Classes UML
  </text>
  
  <!-- GameManager Class -->
  <g>
    <rect x="50" y="60" width="200" height="150" fill="#e74c3c" stroke="#c0392b" stroke-width="3" rx="5"/>
    <text x="150" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">GameManager</text>
    <line x1="60" y1="90" x2="240" y2="90" stroke="white" stroke-width="2"/>
    <text x="60" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">- instance: GameManager</text>
    <text x="60" y="120" font-family="Arial, sans-serif" font-size="11" fill="white">- gameState: GameState</text>
    <text x="60" y="135" font-family="Arial, sans-serif" font-size="11" fill="white">- currentWave: int</text>
    <line x1="60" y1="145" x2="240" y2="145" stroke="white" stroke-width="2"/>
    <text x="60" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">+ getInstance(): GameManager</text>
    <text x="60" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">+ startGame(): void</text>
    <text x="60" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">+ pauseGame(): void</text>
    <text x="60" y="205" font-family="Arial, sans-serif" font-size="11" fill="white">+ update(): void</text>
  </g>
  
  <!-- ResourceManager Class -->
  <g>
    <rect x="300" y="60" width="200" height="140" fill="#f39c12" stroke="#e67e22" stroke-width="3" rx="5"/>
    <text x="400" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">ResourceManager</text>
    <line x1="310" y1="90" x2="490" y2="90" stroke="white" stroke-width="2"/>
    <text x="310" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">- gold: int</text>
    <text x="310" y="120" font-family="Arial, sans-serif" font-size="11" fill="white">- lives: int</text>
    <text x="310" y="135" font-family="Arial, sans-serif" font-size="11" fill="white">- score: int</text>
    <line x1="310" y1="145" x2="490" y2="145" stroke="white" stroke-width="2"/>
    <text x="310" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">+ addGold(amount: int): void</text>
    <text x="310" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">+ spendGold(amount: int): bool</text>
    <text x="310" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">+ loseLife(): void</text>
  </g>
  
  <!-- WaveManager Class -->
  <g>
    <rect x="550" y="60" width="200" height="160" fill="#9b59b6" stroke="#8e44ad" stroke-width="3" rx="5"/>
    <text x="650" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">WaveManager</text>
    <line x1="560" y1="90" x2="740" y2="90" stroke="white" stroke-width="2"/>
    <text x="560" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">- currentWave: int</text>
    <text x="560" y="120" font-family="Arial, sans-serif" font-size="11" fill="white">- waveConfig: WaveConfig[]</text>
    <text x="560" y="135" font-family="Arial, sans-serif" font-size="11" fill="white">- spawnTimer: float</text>
    <text x="560" y="150" font-family="Arial, sans-serif" font-size="11" fill="white">- isWaveActive: bool</text>
    <line x1="560" y1="160" x2="740" y2="160" stroke="white" stroke-width="2"/>
    <text x="560" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">+ startWave(): void</text>
    <text x="560" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">+ spawnEnemy(): void</text>
    <text x="560" y="205" font-family="Arial, sans-serif" font-size="11" fill="white">+ isWaveComplete(): bool</text>
  </g>
  
  <!-- BuildingManager Class -->
  <g>
    <rect x="800" y="60" width="200" height="140" fill="#2ecc71" stroke="#27ae60" stroke-width="3" rx="5"/>
    <text x="900" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">BuildingManager</text>
    <line x1="810" y1="90" x2="990" y2="90" stroke="white" stroke-width="2"/>
    <text x="810" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">- towers: List&lt;Tower&gt;</text>
    <text x="810" y="120" font-family="Arial, sans-serif" font-size="11" fill="white">- grid: Grid</text>
    <text x="810" y="135" font-family="Arial, sans-serif" font-size="11" fill="white">- selectedTowerType: TowerType</text>
    <line x1="810" y1="145" x2="990" y2="145" stroke="white" stroke-width="2"/>
    <text x="810" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">+ buildTower(pos: Vector2): bool</text>
    <text x="810" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">+ upgradeTower(tower: Tower): void</text>
    <text x="810" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">+ sellTower(tower: Tower): void</text>
  </g>
  
  <!-- Tower Abstract Class -->
  <g>
    <rect x="50" y="280" width="180" height="180" fill="#34495e" stroke="#2c3e50" stroke-width="3" rx="5"/>
    <text x="140" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">&lt;&lt;abstract&gt;&gt;</text>
    <text x="140" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Tower</text>
    <line x1="60" y1="325" x2="220" y2="325" stroke="white" stroke-width="2"/>
    <text x="60" y="340" font-family="Arial, sans-serif" font-size="10" fill="white"># position: Vector2</text>
    <text x="60" y="355" font-family="Arial, sans-serif" font-size="10" fill="white"># damage: int</text>
    <text x="60" y="370" font-family="Arial, sans-serif" font-size="10" fill="white"># range: float</text>
    <text x="60" y="385" font-family="Arial, sans-serif" font-size="10" fill="white"># attackSpeed: float</text>
    <text x="60" y="400" font-family="Arial, sans-serif" font-size="10" fill="white"># cost: int</text>
    <text x="60" y="415" font-family="Arial, sans-serif" font-size="10" fill="white"># level: int</text>
    <line x1="60" y1="425" x2="220" y2="425" stroke="white" stroke-width="2"/>
    <text x="60" y="440" font-family="Arial, sans-serif" font-size="10" fill="white">+ attack(): void</text>
    <text x="60" y="455" font-family="Arial, sans-serif" font-size="10" fill="white">+ upgrade(): void</text>
  </g>
  
  <!-- BasicTower Class -->
  <g>
    <rect x="280" y="320" width="140" height="100" fill="#3498db" stroke="#2980b9" stroke-width="3" rx="5"/>
    <text x="350" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">BasicTower</text>
    <line x1="290" y1="350" x2="410" y2="350" stroke="white" stroke-width="2"/>
    <text x="290" y="365" font-family="Arial, sans-serif" font-size="10" fill="white">- fireRate: float</text>
    <line x1="290" y1="375" x2="410" y2="375" stroke="white" stroke-width="2"/>
    <text x="290" y="390" font-family="Arial, sans-serif" font-size="10" fill="white">+ shoot(target: Enemy): void</text>
    <text x="290" y="405" font-family="Arial, sans-serif" font-size="10" fill="white">+ findTarget(): Enemy</text>
  </g>
  
  <!-- SniperTower Class -->
  <g>
    <rect x="460" y="320" width="140" height="100" fill="#e67e22" stroke="#d35400" stroke-width="3" rx="5"/>
    <text x="530" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">SniperTower</text>
    <line x1="470" y1="350" x2="590" y2="350" stroke="white" stroke-width="2"/>
    <text x="470" y="365" font-family="Arial, sans-serif" font-size="10" fill="white">- criticalChance: float</text>
    <line x1="470" y1="375" x2="590" y2="375" stroke="white" stroke-width="2"/>
    <text x="470" y="390" font-family="Arial, sans-serif" font-size="10" fill="white">+ precisonShoot(): void</text>
    <text x="470" y="405" font-family="Arial, sans-serif" font-size="10" fill="white">+ calculateCrit(): bool</text>
  </g>
  
  <!-- SplashTower Class -->
  <g>
    <rect x="640" y="320" width="140" height="100" fill="#e74c3c" stroke="#c0392b" stroke-width="3" rx="5"/>
    <text x="710" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">SplashTower</text>
    <line x1="650" y1="350" x2="770" y2="350" stroke="white" stroke-width="2"/>
    <text x="650" y="365" font-family="Arial, sans-serif" font-size="10" fill="white">- splashRadius: float</text>
    <line x1="650" y1="375" x2="770" y2="375" stroke="white" stroke-width="2"/>
    <text x="650" y="390" font-family="Arial, sans-serif" font-size="10" fill="white">+ areaAttack(): void</text>
    <text x="650" y="405" font-family="Arial, sans-serif" font-size="10" fill="white">+ getEnemiesInRange(): List</text>
  </g>
  
  <!-- Enemy Abstract Class -->
  <g>
    <rect x="850" y="280" width="180" height="180" fill="#95a5a6" stroke="#7f8c8d" stroke-width="3" rx="5"/>
    <text x="940" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">&lt;&lt;abstract&gt;&gt;</text>
    <text x="940" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Enemy</text>
    <line x1="860" y1="325" x2="1020" y2="325" stroke="white" stroke-width="2"/>
    <text x="860" y="340" font-family="Arial, sans-serif" font-size="10" fill="white"># position: Vector2</text>
    <text x="860" y="355" font-family="Arial, sans-serif" font-size="10" fill="white"># health: int</text>
    <text x="860" y="370" font-family="Arial, sans-serif" font-size="10" fill="white"># speed: float</text>
    <text x="860" y="385" font-family="Arial, sans-serif" font-size="10" fill="white"># reward: int</text>
    <text x="860" y="400" font-family="Arial, sans-serif" font-size="10" fill="white"># path: Path</text>
    <text x="860" y="415" font-family="Arial, sans-serif" font-size="10" fill="white"># isAlive: bool</text>
    <line x1="860" y1="425" x2="1020" y2="425" stroke="white" stroke-width="2"/>
    <text x="860" y="440" font-family="Arial, sans-serif" font-size="10" fill="white">+ move(): void</text>
    <text x="860" y="455" font-family="Arial, sans-serif" font-size="10" fill="white">+ takeDamage(damage: int): void</text>
  </g>
  
  <!-- BasicEnemy Class -->
  <g>
    <rect x="1100" y="320" width="130" height="80" fill="#16a085" stroke="#1abc9c" stroke-width="3" rx="5"/>
    <text x="1165" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">BasicEnemy</text>
    <line x1="1110" y1="350" x2="1220" y2="350" stroke="white" stroke-width="2"/>
    <text x="1110" y="365" font-family="Arial, sans-serif" font-size="10" fill="white">- basicSpeed: float</text>
    <line x1="1110" y1="375" x2="1220" y2="375" stroke="white" stroke-width="2"/>
    <text x="1110" y="390" font-family="Arial, sans-serif" font-size="10" fill="white">+ moveAlongPath(): void</text>
  </g>
  
  <!-- FastEnemy Class -->
  <g>
    <rect x="1100" y="420" width="130" height="80" fill="#f1c40f" stroke="#f39c12" stroke-width="3" rx="5"/>
    <text x="1165" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">FastEnemy</text>
    <line x1="1110" y1="450" x2="1220" y2="450" stroke="white" stroke-width="2"/>
    <text x="1110" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">- boostSpeed: float</text>
    <line x1="1110" y1="475" x2="1220" y2="475" stroke="white" stroke-width="2"/>
    <text x="1110" y="490" font-family="Arial, sans-serif" font-size="10" fill="white">+ quickMove(): void</text>
  </g>
  
  <!-- TankEnemy Class -->
  <g>
    <rect x="1260" y="370" width="130" height="80" fill="#8e44ad" stroke="#9b59b6" stroke-width="3" rx="5"/>
    <text x="1325" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="white">TankEnemy</text>
    <line x1="1270" y1="400" x2="1380" y2="400" stroke="white" stroke-width="2"/>
    <text x="1270" y="415" font-family="Arial, sans-serif" font-size="10" fill="white">- armor: int</text>
    <line x1="1270" y1="425" x2="1380" y2="425" stroke="white" stroke-width="2"/>
    <text x="1270" y="440" font-family="Arial, sans-serif" font-size="10" fill="white">+ absorbDamage(): void</text>
  </g>
  
  <!-- Grid Class -->
  <g>
    <rect x="50" y="520" width="160" height="120" fill="#1abc9c" stroke="#16a085" stroke-width="3" rx="5"/>
    <text x="130" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Grid</text>
    <line x1="60" y1="550" x2="200" y2="550" stroke="white" stroke-width="2"/>
    <text x="60" y="565" font-family="Arial, sans-serif" font-size="11" fill="white">- width: int</text>
    <text x="60" y="580" font-family="Arial, sans-serif" font-size="11" fill="white">- height: int</text>
    <text x="60" y="595" font-family="Arial, sans-serif" font-size="11" fill="white">- cells: Cell[][]</text>
    <line x1="60" y1="605" x2="200" y2="605" stroke="white" stroke-width="2"/>
    <text x="60" y="620" font-family="Arial, sans-serif" font-size="11" fill="white">+ isValidPosition(): bool</text>
    <text x="60" y="635" font-family="Arial, sans-serif" font-size="11" fill="white">+ placeTower(): void</text>
  </g>
  
  <!-- Path Class -->
  <g>
    <rect x="260" y="520" width="160" height="120" fill="#9b59b6" stroke="#8e44ad" stroke-width="3" rx="5"/>
    <text x="340" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Path</text>
    <line x1="270" y1="550" x2="410" y2="550" stroke="white" stroke-width="2"/>
    <text x="270" y="565" font-family="Arial, sans-serif" font-size="11" fill="white">- waypoints: Vector2[]</text>
    <text x="270" y="580" font-family="Arial, sans-serif" font-size="11" fill="white">- totalDistance: float</text>
    <line x1="270" y1="590" x2="410" y2="590" stroke="white" stroke-width="2"/>
    <text x="270" y="605" font-family="Arial, sans-serif" font-size="11" fill="white">+ getNextWaypoint(): Vector2</text>
    <text x="270" y="620" font-family="Arial, sans-serif" font-size="11" fill="white">+ getProgress(): float</text>
    <text x="270" y="635" font-family="Arial, sans-serif" font-size="11" fill="white">+ isEndReached(): bool</text>
  </g>
  
  <!-- WaveConfig Class -->
  <g>
    <rect x="470" y="520" width="160" height="120" fill="#e67e22" stroke="#d35400" stroke-width="3" rx="5"/>
    <text x="550" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">WaveConfig</text>
    <line x1="480" y1="550" x2="620" y2="550" stroke="white" stroke-width="2"/>
    <text x="480" y="565" font-family="Arial, sans-serif" font-size="11" fill="white">- enemyCount: int</text>
    <text x="480" y="580" font-family="Arial, sans-serif" font-size="11" fill="white">- enemyType: EnemyType</text>
    <text x="480" y="595" font-family="Arial, sans-serif" font-size="11" fill="white">- spawnDelay: float</text>
    <line x1="480" y1="605" x2="620" y2="605" stroke="white" stroke-width="2"/>
    <text x="480" y="620" font-family="Arial, sans-serif" font-size="11" fill="white">+ createEnemies(): Enemy[]</text>
    <text x="480" y="635" font-family="Arial, sans-serif" font-size="11" fill="white">+ getSpawnDelay(): float</text>
  </g>
  
  <!-- Projectile Class -->
  <g>
    <rect x="680" y="520" width="160" height="120" fill="#e74c3c" stroke="#c0392b" stroke-width="3" rx="5"/>
    <text x="760" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Projectile</text>
    <line x1="690" y1="550" x2="830" y2="550" stroke="white" stroke-width="2"/>
    <text x="690" y="565" font-family="Arial, sans-serif" font-size="11" fill="white">- position: Vector2</text>
    <text x="690" y="580" font-family="Arial, sans-serif" font-size="11" fill="white">- target: Enemy</text>
    <text x="690" y="595" font-family="Arial, sans-serif" font-size="11" fill="white">- damage: int</text>
    <line x1="690" y1="605" x2="830" y2="605" stroke="white" stroke-width="2"/>
    <text x="690" y="620" font-family="Arial, sans-serif" font-size="11" fill="white">+ moveToTarget(): void</text>
    <text x="690" y="635" font-family="Arial, sans-serif" font-size="11" fill="white">+ hitTarget(): void</text>
  </g>
  
  <!-- UI Classes -->
  <g>
    <rect x="890" y="520" width="160" height="100" fill="#f39c12" stroke="#e67e22" stroke-width="3" rx="5"/>
    <text x="970" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">UIManager</text>
    <line x1="900" y1="550" x2="1040" y2="550" stroke="white" stroke-width="2"/>
    <text x="900" y="565" font-family="Arial, sans-serif" font-size="11" fill="white">- hudElements: UIElement[]</text>
    <line x1="900" y1="575" x2="1040" y2="575" stroke="white" stroke-width="2"/>
    <text x="900" y="590" font-family="Arial, sans-serif" font-size="11" fill="white">+ updateUI(): void</text>
    <text x="900" y="605" font-family="Arial, sans-serif" font-size="11" fill="white">+ showTowerMenu(): void</text>
  </g>
  
  <!-- Relationships/Associations -->
  <!-- GameManager to other managers -->
  <line x1="150" y1="210" x2="150" y2="280" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="250" y1="135" x2="300" y2="135" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="250" y1="135" x2="550" y2="135" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="250" y1="135" x2="800" y2="135" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Tower inheritance -->
  <line x1="230" y1="360" x2="280" y2="360" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  <line x1="230" y1="360" x2="460" y2="360" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  <line x1="230" y1="360" x2="640" y2="360" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  
  <!-- Enemy inheritance -->
  <line x1="1030" y1="360" x2="1100" y2="360" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  <line x1="1030" y1="380" x2="1100" y2="460" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  <line x1="1030" y1="380" x2="1260" y2="410" stroke="#2c3e50" stroke-width="2" marker-end="url(#triangle)"/>
  
  <!-- Associations -->
  <line x1="900" y1="200" x2="130" y2="520" stroke="#34495e" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="650" y1="220" x2="340" y2="520" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="650" y1="220" x2="550" y2="520" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
    <marker id="triangle" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="white" stroke="#2c3e50" stroke-width="1"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <g>
    <rect x="50" y="700" width="300" height="240" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>
    <text x="200" y="720" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">Légende</text>
    
    <rect x="70" y="740" width="20" height="15" fill="#e74c3c"/>
    <text x="100" y="752" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Singleton (GameManager)</text>
    
    <rect x="70" y="760" width="20" height="15" fill="#f39c12"/>
    <text x="100" y="772" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Gestionnaire de Ressources</text>
    
    <rect x="70" y="780" width="20" height="15" fill="#9b59b6"/>
    <text x="100" y="792" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Système de Vagues</text>
    
    <rect x="70" y="800" width="20" height="15" fill="#2ecc71"/>
    <text x="100" y="812" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Système de Construction</text>
    
    <rect x="70" y="820" width="20" height="15" fill="#34495e"/>
    <text x="100" y="832" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Classes Abstraites</text>
    
    <rect x="70" y="